# ‚ö° –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è TimeWeb Cloud

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–Ø –∏—Å–ø—Ä–∞–≤–∏–ª –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–µ–ø–ª–æ–µ–º:

1. ‚úÖ **–£–¥–∞–ª–µ–Ω Dockerfile** - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω—ã–π Next.js –¥–µ–ø–ª–æ–π TimeWeb Cloud
2. ‚úÖ **–£–±—Ä–∞–Ω standalone —Ä–µ–∂–∏–º** –∏–∑ `next.config.mjs`
3. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω `export const dynamic = 'force-dynamic'`** –≤–æ –≤—Å–µ 15 API —Ä–æ—É—Ç–æ–≤
4. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –≤ `DEPLOYMENT-FIX.md`

## üö® –ì–õ–ê–í–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê –ë–ï–õ–û–ì–û –≠–ö–†–ê–ù–ê

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–ª–∏ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞!**

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –±–µ–∑ PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°:

### 1Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ TimeWeb Cloud

1. –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å TimeWeb Cloud
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"** ‚Üí **"PostgreSQL"**
3. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö"**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (DATABASE_URL)

–ü—Ä–∏–º–µ—Ä: `postgresql://user:pass@host.timeweb.cloud:5432/db123456`

### 2Ô∏è‚É£ –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ App Platform

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **App Platform** ‚Üí –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí **Settings** ‚Üí **Environment Variables**

–î–æ–±–∞–≤—å—Ç–µ –º–∏–Ω–∏–º—É–º —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
DATABASE_URL=postgresql://user:pass@host.timeweb.cloud:5432/db123456
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-app.timeweb.cloud
```

**‚ö†Ô∏è –ë–ï–ó DATABASE_URL –ü–†–ò–õ–û–ñ–ï–ù–ò–ï –ù–ï –ó–ê–ü–£–°–¢–ò–¢–°–Ø!**

### 3Ô∏è‚É£ –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ:

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ SSH** (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
```bash
ssh your-app@timeweb.cloud
cd /app
npx prisma migrate deploy
npx prisma db seed
```

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ Web Console** (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ TimeWeb Cloud)
```bash
npx prisma migrate deploy
npx prisma db seed
```

**–í–∞—Ä–∏–∞–Ω—Ç –í: –õ–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ DATABASE_URL**
```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
export DATABASE_URL="postgresql://user:pass@host.timeweb.cloud:5432/db123456"
npx prisma migrate deploy
npx prisma db seed
```

### 4Ô∏è‚É£ –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –í App Platform –Ω–∞–∂–º–∏—Ç–µ **"Rebuild"**
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `Build succeeded`

### 5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–∞–π—Ç: `https://your-app.timeweb.cloud`

**‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:**
- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å –¥–∏–∑–∞–π–Ω–æ–º
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/courses` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—É—Ä—Å—ã
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/about` —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

**‚ùå –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –±–µ–ª—ã–π —ç–∫—Ä–∞–Ω:**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Runtime Logs** –≤ TimeWeb Cloud:
- –ò—â–∏—Ç–µ –æ—à–∏–±–∫—É `Can't reach database server` ‚Üí DATABASE_URL –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ò—â–∏—Ç–µ –æ—à–∏–±–∫—É `P2021: table does not exist` ‚Üí –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- –õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏ ‚Üí –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ, —Ä–∞–∑–±–µ—Ä–µ–º—Å—è

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è App Platform

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —É–∫–∞–∑–∞–Ω–æ:

- **Build Command:** `npm run build`
- **Start Command:** `npm start`
- **Node Version:** 18.x –∏–ª–∏ –≤—ã—à–µ
- **Port:** 3000 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

## üì± –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)

–ö–æ–≥–¥–∞ –æ—Å–Ω–æ–≤–Ω–æ–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:

```bash
# Memberstack (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
NEXT_PUBLIC_MEMBERSTACK_PUBLIC_KEY=pk_sb_...
MEMBERSTACK_SECRET_KEY=sk_sb_...

# SendGrid (email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
SENDGRID_API_KEY=SG...
SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# Cloudinary (–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your-cloud
CLOUDINARY_API_KEY=...
CLOUDINARY_API_SECRET=...
```

## üé¨ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:

1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π –¥–æ–º–µ–Ω
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Memberstack –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. ‚úÖ –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç –∫—É—Ä—Å–æ–≤ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

---

**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?** 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `DEPLOYMENT-FIX.md`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Runtime Logs –≤ TimeWeb Cloud
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ DATABASE_URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –±–∞–∑–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
